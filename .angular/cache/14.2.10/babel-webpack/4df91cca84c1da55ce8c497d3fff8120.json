{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/WM/Documents/GitHub/desafio-angular-codigo-do-futuro/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { environment } from 'src/environments/environment';\nimport { firstValueFrom } from 'rxjs';\nexport class ProdutoServico {\n  constructor(http) {\n    this.http = http;\n  }\n\n  lista() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let produtos = yield firstValueFrom(_this.http.get(`${environment.api}/produtos`));\n      return produtos;\n    })();\n  }\n\n  criar(produto) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let produtoRest = yield firstValueFrom(_this2.http.post(`${environment.api}/produtos/`, produto));\n      return produtoRest;\n    })();\n  }\n\n  update(produto) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      let produtoRest = yield firstValueFrom(_this3.http.put(`${environment.api}/produtos/${produto.id}`, produto));\n      return produtoRest;\n    })();\n  }\n\n  getLast() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      let produto = yield firstValueFrom(_this4.http.get(`${environment.api}/produtosLast`));\n      return produto.at(0);\n    })();\n  }\n\n  buscaPorId(id) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      return yield firstValueFrom(_this5.http.get(`${environment.api}/produtos/${id}`));\n    })();\n  }\n\n  excluirPorId(id) {\n    firstValueFrom(this.http.delete(`${environment.api}/produtos/${id}`));\n  }\n\n  listaByCategoria(id) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      let produtos = yield firstValueFrom(_this6.http.get(`${environment.api}categorias/produtos/${id}`));\n      return produtos;\n    })();\n  }\n\n}","map":{"version":3,"mappings":";AACA,SAASA,WAAT,QAA4B,8BAA5B;AAGA,SAASC,cAAT,QAA+B,MAA/B;AAEA,OAAM,MAAOC,cAAP,CAAqB;EAEvBC,YAAoBC,IAApB,EAAmC;IAAf;EAAoB;;EAE3BC,KAAK;IAAA;;IAAA;MACd,IAAIC,QAAQ,SAA+BL,cAAc,CAAC,KAAI,CAACG,IAAL,CAAUG,GAAV,CAAyB,GAAGP,WAAW,CAACQ,GAAG,WAA3C,CAAD,CAAzD;MACA,OAAOF,QAAP;IAFc;EAGjB;;EAEYG,KAAK,CAACC,OAAD,EAAgB;IAAA;;IAAA;MAC9B,IAAIC,WAAW,SAA6BV,cAAc,CAAC,MAAI,CAACG,IAAL,CAAUQ,IAAV,CAAwB,GAAGZ,WAAW,CAACQ,GAAG,YAA1C,EAAwDE,OAAxD,CAAD,CAA1D;MACA,OAAOC,WAAP;IAF8B;EAGjC;;EAEYE,MAAM,CAACH,OAAD,EAAgB;IAAA;;IAAA;MAC/B,IAAIC,WAAW,SAA6BV,cAAc,CAAC,MAAI,CAACG,IAAL,CAAUU,GAAV,CAAuB,GAAGd,WAAW,CAACQ,GAAG,aAAaE,OAAO,CAACK,EAAE,EAAhE,EAAoEL,OAApE,CAAD,CAA1D;MACA,OAAOC,WAAP;IAF+B;EAGlC;;EAEYK,OAAO;IAAA;;IAAA;MAChB,IAAIN,OAAO,SAA+BT,cAAc,CAAC,MAAI,CAACG,IAAL,CAAUG,GAAV,CAAyB,GAAGP,WAAW,CAACQ,GAAG,eAA3C,CAAD,CAAxD;MACA,OAAOE,OAAO,CAACO,EAAR,CAAW,CAAX,CAAP;IAFgB;EAGnB;;EAEYC,UAAU,CAACH,EAAD,EAAU;IAAA;;IAAA;MAC7B,aAAad,cAAc,CAAC,MAAI,CAACG,IAAL,CAAUG,GAAV,CAAmC,GAAGP,WAAW,CAACQ,GAAG,aAAaO,EAAE,EAApE,CAAD,CAA3B;IAD6B;EAEhC;;EAEMI,YAAY,CAACJ,EAAD,EAAU;IACzBd,cAAc,CAAC,KAAKG,IAAL,CAAUgB,MAAV,CAAiB,GAAGpB,WAAW,CAACQ,GAAG,aAAaO,EAAE,EAAlD,CAAD,CAAd;EACH;;EAEYM,gBAAgB,CAACN,EAAD,EAAU;IAAA;;IAAA;MACnC,IAAIT,QAAQ,SAA+BL,cAAc,CAAC,MAAI,CAACG,IAAL,CAAUG,GAAV,CAAyB,GAAGP,WAAW,CAACQ,GAAG,uBAAuBO,EAAE,EAApE,CAAD,CAAzD;MACA,OAAOT,QAAP;IAFmC;EAGtC;;AAnCsB","names":["environment","firstValueFrom","ProdutoServico","constructor","http","lista","produtos","get","api","criar","produto","produtoRest","post","update","put","id","getLast","at","buscaPorId","excluirPorId","delete","listaByCategoria"],"sourceRoot":"","sources":["C:\\Users\\WM\\Documents\\GitHub\\desafio-angular-codigo-do-futuro\\src\\app\\servicos\\produtoServico.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Produto } from \"../models/produto\";\r\n\r\nimport { firstValueFrom } from 'rxjs';\r\n\r\nexport class ProdutoServico{\r\n\r\n    constructor(private http:HttpClient) { }\r\n\r\n    public async lista(): Promise<Produto[] | undefined> {\r\n        let produtos:Produto[] | undefined = await firstValueFrom(this.http.get<Produto[]>(`${environment.api}/produtos`))\r\n        return produtos;\r\n    }\r\n\r\n    public async criar(produto:Produto): Promise<Produto | undefined> {\r\n        let produtoRest:Produto | undefined = await firstValueFrom(this.http.post<Produto>(`${environment.api}/produtos/`, produto))\r\n        return produtoRest;\r\n    }\r\n\r\n    public async update(produto:Produto): Promise<Produto | undefined> {\r\n        let produtoRest:Produto | undefined = await firstValueFrom(this.http.put<Produto>(`${environment.api}/produtos/${produto.id}`, produto))\r\n        return produtoRest;\r\n    }\r\n\r\n    public async getLast(): Promise<Produto | undefined> {\r\n        let produto:Produto[] | undefined = await firstValueFrom(this.http.get<Produto[]>(`${environment.api}/produtosLast`))\r\n        return produto.at(0);\r\n    }\r\n\r\n    public async buscaPorId(id:Number): Promise<Produto | undefined> {\r\n        return await firstValueFrom(this.http.get<Produto | undefined>(`${environment.api}/produtos/${id}`))\r\n    }\r\n\r\n    public excluirPorId(id:Number) {\r\n        firstValueFrom(this.http.delete(`${environment.api}/produtos/${id}`))\r\n    }\r\n\r\n    public async listaByCategoria(id:Number){\r\n        let produtos:Produto[] | undefined = await firstValueFrom(this.http.get<Produto[]>(`${environment.api}categorias/produtos/${id}`))\r\n        return produtos;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}