{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/WM/Documents/GitHub/desafio-angular-codigo-do-futuro/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ProdutoServico } from 'src/app/servicos/produtoServico';\nimport { CategoriaServico } from 'src/app/servicos/categoriaServico';\nimport { Carrinho } from 'src/app/servicos/carrinho';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\n\nfunction ProdutosComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" N\\u00E3o existem produtos cadastrados \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProdutosComponent_table_8_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 13)(1, \"th\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 15)(18, \"a\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(19, \"svg\", 17);\n    i0.ɵɵelement(20, \"path\", 18)(21, \"path\", 19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(22, \"td\", 15)(23, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ProdutosComponent_table_8_tr_20_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const produto_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.excluir(produto_r3));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(24, \"svg\", 21);\n    i0.ɵɵelement(25, \"path\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(26, \"td\", 15)(27, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ProdutosComponent_table_8_tr_20_Template_button_click_27_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const produto_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.comprar(produto_r3));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(28, \"svg\", 24);\n    i0.ɵɵelement(29, \"path\", 25)(30, \"path\", 26);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(31, \"td\", 15)(32, \"button\", 27);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(33, \"svg\", 28);\n    i0.ɵɵelement(34, \"path\", 29)(35, \"path\", 30);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const produto_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r3.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.nomesCategorias[ctx_r2.number(produto_r3.categoria_id) - 1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r3.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r3.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 9, ctx_r2.number(produto_r3.valor)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(produto_r3.qtd_estoque);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 11, ctx_r2.number(produto_r3.custo)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/form-produto/\", produto_r3.id, \"\");\n    i0.ɵɵadvance(14);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/produtos/\", produto_r3.id, \"\");\n  }\n}\n\nfunction ProdutosComponent_table_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 9)(1, \"thead\")(2, \"tr\")(3, \"th\", 10);\n    i0.ɵɵtext(4, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 10);\n    i0.ɵɵtext(6, \"Categoria\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 10);\n    i0.ɵɵtext(8, \"Nome\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 10);\n    i0.ɵɵtext(10, \"Descri\\u00E7\\u00E3o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 10);\n    i0.ɵɵtext(12, \"Valor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 10);\n    i0.ɵɵtext(14, \"Quantidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 10);\n    i0.ɵɵtext(16, \"Custo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 11);\n    i0.ɵɵtext(18, \"A\\u00E7\\u00F5es\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, ProdutosComponent_table_8_tr_20_Template, 36, 13, \"tr\", 12);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.produtos);\n  }\n}\n\nexport class ProdutosComponent {\n  constructor(router, http) {\n    this.router = router;\n    this.http = http;\n    this.produtoServico = {};\n    this.produtos = [];\n    this.nomesCategorias = [];\n  }\n\n  ngOnInit() {\n    this.produtoServico = new ProdutoServico(this.http);\n    this.listaDeProdutos();\n  }\n\n  novoProduto() {\n    this.router.navigateByUrl(\"/form-produtos\");\n  }\n\n  listaDeProdutos() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let produtos = yield _this.produtoServico.lista();\n      let i = 0;\n      let categorias = yield new CategoriaServico(_this.http).lista();\n      categorias?.forEach(categoria => {\n        _this.nomesCategorias.push(categoria.nome);\n      });\n      console.log(_this.nomesCategorias);\n      _this.produtos = produtos;\n    })();\n  }\n\n  excluir(produto) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (confirm(\"Tem certeza que deseja excluir esse produto?\")) {\n        yield _this2.produtoServico.excluirPorId(produto.id);\n        _this2.produtos = yield _this2.produtoServico.lista();\n      }\n    })();\n  }\n\n  comprar(produto) {\n    Carrinho.adicionaPedidoProduto(produto);\n  }\n\n  number(a) {\n    return Number(a);\n  }\n\n}\n\nProdutosComponent.ɵfac = function ProdutosComponent_Factory(t) {\n  return new (t || ProdutosComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient));\n};\n\nProdutosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProdutosComponent,\n  selectors: [[\"app-produtos\"]],\n  decls: 9,\n  vars: 2,\n  consts: [[\"id\", \"contact\", 1, \"page-section\", 2, \"margin-top\", \"15px\", \"margin-bottom\", \"2px\"], [1, \"container\"], [1, \"divider-custom\"], [\"routerLink\", \"/form-produto\", 1, \"btn\", \"btn-primary\"], [1, \"row\"], [1, \"col-lg-8\", \"col-xl-7\", 2, \"width\", \"100%\"], [\"class\", \"alert alert-primary\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"table\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-primary\"], [1, \"table\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"colspan\", \"4\", 2, \"text-align\", \"-webkit-center\"], [\"style\", \"vertical-align: middle\", 4, \"ngFor\", \"ngForOf\"], [2, \"vertical-align\", \"middle\"], [\"scope\", \"row\"], [1, \"btnacoes\"], [1, \"btn\", \"btn-warning\", 3, \"routerLink\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-database-gear\"], [\"d\", \"M12.096 6.223A4.92 4.92 0 0 0 13 5.698V7c0 .289-.213.654-.753 1.007a4.493 4.493 0 0 1 1.753.25V4c0-1.007-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1s-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4v9c0 1.007.875 1.755 1.904 2.223C4.978 15.71 6.427 16 8 16c.536 0 1.058-.034 1.555-.097a4.525 4.525 0 0 1-.813-.927C8.5 14.992 8.252 15 8 15c-1.464 0-2.766-.27-3.682-.687C3.356 13.875 3 13.373 3 13v-1.302c.271.202.58.378.904.525C4.978 12.71 6.427 13 8 13h.027a4.552 4.552 0 0 1 0-1H8c-1.464 0-2.766-.27-3.682-.687C3.356 10.875 3 10.373 3 10V8.698c.271.202.58.378.904.525C4.978 9.71 6.427 10 8 10c.262 0 .52-.008.774-.024a4.525 4.525 0 0 1 1.102-1.132C9.298 8.944 8.666 9 8 9c-1.464 0-2.766-.27-3.682-.687C3.356 7.875 3 7.373 3 7V5.698c.271.202.58.378.904.525C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777ZM3 4c0-.374.356-.875 1.318-1.313C5.234 2.271 6.536 2 8 2s2.766.27 3.682.687C12.644 3.125 13 3.627 13 4c0 .374-.356.875-1.318 1.313C10.766 5.729 9.464 6 8 6s-2.766-.27-3.682-.687C3.356 4.875 3 4.373 3 4Z\"], [\"d\", \"M11.886 9.46c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-trash3\"], [\"d\", \"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-cart-plus\"], [\"d\", \"M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z\"], [\"d\", \"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-bag-plus\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z\"], [\"d\", \"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z\"]],\n  template: function ProdutosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\n      i0.ɵɵtext(4, \"Adicionar novo\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5);\n      i0.ɵɵtemplate(7, ProdutosComponent_div_7_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(8, ProdutosComponent_table_8_Template, 21, 1, \"table\", 7);\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.produtos && ctx.produtos.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.produtos && ctx.produtos.length > 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i1.RouterLink, i1.RouterLinkWithHref, i3.CurrencyPipe],\n  styles: [\".container[_ngcontent-%COMP%]{\\r\\n    font-size: 12px;\\r\\n    max-width: 1000px;\\r\\n    padding-left: 5px;\\r\\n    padding-right: 5px;\\r\\n\\r\\n    width: 100%;\\r\\n    margin-top: 15px;\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.row[_ngcontent-%COMP%]{\\r\\n    padding-top: 15px;\\r\\n    margin-left: 0px;\\r\\n    margin-right: 0px;\\r\\n    width: 970px;\\r\\n}\\r\\n\\r\\ntable[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n    margin-bottom: 50px;\\r\\n\\r\\n    flex-wrap: wrap;\\r\\n    align-content: space-between;\\r\\n    justify-content: space-between;\\r\\n    border-collapse: collapse;\\r\\n}\\r\\n\\r\\n.btnacoes[_ngcontent-%COMP%]{\\r\\n    padding-right: 1px;\\r\\n    padding-left: 1px;\\r\\n    width: 39px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1dG9zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQixrQkFBa0I7O0lBRWxCLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxtQkFBbUI7O0lBRW5CLGVBQWU7SUFDZiw0QkFBNEI7SUFDNUIsOEJBQThCO0lBQzlCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsV0FBVztBQUNmIiwiZmlsZSI6InByb2R1dG9zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVye1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgbWF4LXdpZHRoOiAxMDAwcHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuXHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4ucm93e1xyXG4gICAgcGFkZGluZy10b3A6IDE1cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAwcHg7XHJcbiAgICB3aWR0aDogOTcwcHg7XHJcbn1cclxuXHJcbnRhYmxle1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1MHB4O1xyXG5cclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGFsaWduLWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG59XHJcblxyXG4uYnRuYWNvZXN7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxcHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDFweDtcclxuICAgIHdpZHRoOiAzOXB4O1xyXG59XHJcblxyXG4iXX0= */\"]\n});","map":{"version":3,"mappings":";AAIA,SAASA,cAAT,QAA+B,iCAA/B;AACA,SAASC,gBAAT,QAAiC,mCAAjC;AACA,SAASC,QAAT,QAAyB,2BAAzB;;;;;;;;ICEcC;IACIA;IACJA;;;;;;;;IAeMA,+BAAoE,CAApE,EAAoE,IAApE,EAAoE,EAApE;IACkBA;IAAcA;IAC9BA;IAAIA;IAAwDA;IAC5DA;IAAIA;IAAgBA;IACpBA;IAAIA;IAAqBA;IACzBA;IAAIA;;IAAoCA;IACxCA;IAAIA;IAAuBA;IAC3BA;IAAIA;;IAAoCA;IAExCA,gCAAqB,EAArB,EAAqB,GAArB,EAAqB,EAArB;IAEuEA;IAAAA;IACrEA,6BAAw/B,EAAx/B,EAAw/B,MAAx/B,EAAw/B,EAAx/B;IAEFA;IAKAA;IAAAA,gCAAqB,EAArB,EAAqB,QAArB,EAAqB,EAArB;IACiCA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAT;IAAyB,CAAzB;IAA2BA;IAAAA;IAC1DA;IACFA;IAKAA;IAAAA,gCAAqB,EAArB,EAAqB,QAArB,EAAqB,EAArB;IAAqDA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAT;IAAyB,CAAzB;IAA2BA;IAAAA;IAC9EA,6BAAuG,EAAvG,EAAuG,MAAvG,EAAuG,EAAvG;IAEFA;IAEAA;IAAAA,gCAAqB,EAArB,EAAqB,QAArB,EAAqB,EAArB;IAA2FA;IAAAA;IACzFA,6BAAgJ,EAAhJ,EAAgJ,MAAhJ,EAAgJ,EAAhJ;IAEFA;;;;;;IAlCgBA;IAAAA;IACZA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IAIyBA;IAAAA;IAqBwBA;IAAAA;;;;;;IA9C7DA,iCAA6D,CAA7D,EAA6D,OAA7D,EAA6D,CAA7D,EAA6D,IAA7D,EAA6D,CAA7D,EAA6D,IAA7D,EAA6D,EAA7D;IAGwBA;IAAEA;IAClBA;IAAgBA;IAASA;IACzBA;IAAgBA;IAAIA;IACpBA;IAAgBA;IAASA;IACzBA;IAAgBA;IAAKA;IACrBA;IAAgBA;IAAUA;IAC1BA;IAAgBA;IAAKA;IACrBA;IAAgEA;IAAKA;IAGzEA;IACEA;IAwCFA;;;;;IAxC0BA;IAAAA;;;;ADb5C,OAAM,MAAOC,iBAAP,CAAwB;EAE5BC,YACUC,MADV,EAEUC,IAFV,EAE0B;IADhB;IACA;IAGF,sBAAiC,EAAjC;IACD,gBAAkC,EAAlC;IACA,uBAA2B,EAA3B;EAJF;;EAMLC,QAAQ;IACN,KAAKC,cAAL,GAAsB,IAAIT,cAAJ,CAAmB,KAAKO,IAAxB,CAAtB;IACA,KAAKG,eAAL;EACD;;EAEDC,WAAW;IACT,KAAKL,MAAL,CAAYM,aAAZ,CAA0B,gBAA1B;EACD;;EAEaF,eAAe;IAAA;;IAAA;MAC3B,IAAIG,QAAQ,SAAS,KAAI,CAACJ,cAAL,CAAoBK,KAApB,EAArB;MACA,IAAIC,CAAC,GAAC,CAAN;MACA,IAAIC,UAAU,SAAO,IAAIf,gBAAJ,CAAqB,KAAI,CAACM,IAA1B,EAAgCO,KAAhC,EAArB;MACAE,UAAU,EAAEC,OAAZ,CAAoBC,SAAS,IAAE;QAC7B,KAAI,CAACC,eAAL,CAAqBC,IAArB,CAA0BF,SAAS,CAACG,IAApC;MACD,CAFD;MAGAC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACJ,eAAjB;MACA,KAAI,CAACN,QAAL,GAAcA,QAAd;IAR2B;EAS5B;;EAEKW,OAAO,CAACC,OAAD,EAAgB;IAAA;;IAAA;MAC3B,IAAGC,OAAO,CAAC,8CAAD,CAAV,EAA2D;QACzD,MAAM,MAAI,CAACjB,cAAL,CAAoBkB,YAApB,CAAiCF,OAAO,CAACG,EAAzC,CAAN;QACA,MAAI,CAACf,QAAL,SAAsB,MAAI,CAACJ,cAAL,CAAoBK,KAApB,EAAtB;MACD;IAJ0B;EAK5B;;EAEMe,OAAO,CAACJ,OAAD,EAAgB;IAC5BvB,QAAQ,CAAC4B,qBAAT,CAA+BL,OAA/B;EACD;;EAEDM,MAAM,CAACC,CAAD,EAAW;IACf,OAAOC,MAAM,CAACD,CAAD,CAAb;EACD;;AA5C2B;;;mBAAjB5B,mBAAiBD;AAAA;;;QAAjBC;EAAiB8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ9BnC,mCAAyF,CAAzF,EAAyF,KAAzF,EAAyF,CAAzF,EAAyF,CAAzF,EAAyF,KAAzF,EAAyF,CAAzF,EAAyF,CAAzF,EAAyF,GAAzF,EAAyF,CAAzF;MAGmEA;MAAcA;MAGzEA,+BAAkB,CAAlB,EAAkB,KAAlB,EAAkB,CAAlB;MAEMA;MAGAA;MAwDFA;;;;MA3DQA;MAAAA;MAGEA;MAAAA","names":["ProdutoServico","CategoriaServico","Carrinho","i0","ProdutosComponent","constructor","router","http","ngOnInit","produtoServico","listaDeProdutos","novoProduto","navigateByUrl","produtos","lista","i","categorias","forEach","categoria","nomesCategorias","push","nome","console","log","excluir","produto","confirm","excluirPorId","id","comprar","adicionaPedidoProduto","number","a","Number","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\WM\\Documents\\GitHub\\desafio-angular-codigo-do-futuro\\src\\app\\pages\\produtos\\produtos.component.ts","C:\\Users\\WM\\Documents\\GitHub\\desafio-angular-codigo-do-futuro\\src\\app\\pages\\produtos\\produtos.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Produto } from 'src/app/models/produto';\r\nimport { ProdutoServico } from 'src/app/servicos/produtoServico';\r\nimport { CategoriaServico } from 'src/app/servicos/categoriaServico';\r\nimport { Carrinho } from 'src/app/servicos/carrinho';\r\n@Component({\r\n  selector: 'app-produtos',\r\n  templateUrl: './produtos.component.html',\r\n  styleUrls: ['./produtos.component.css']\r\n})\r\nexport class ProdutosComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private http: HttpClient,\r\n  ) { }\r\n\r\n  private produtoServico: ProdutoServico = {} as ProdutoServico\r\n  public produtos: Produto[] | undefined = [];\r\n  public nomesCategorias: String[] =[]\r\n\r\n  ngOnInit(): void {\r\n    this.produtoServico = new ProdutoServico(this.http);\r\n    this.listaDeProdutos();\r\n  }\r\n\r\n  novoProduto(){\r\n    this.router.navigateByUrl(\"/form-produtos\");\r\n  }\r\n\r\n  private async listaDeProdutos(){\r\n    let produtos = await this.produtoServico.lista();\r\n    let i=0;\r\n    let categorias=await new CategoriaServico(this.http).lista();\r\n    categorias?.forEach(categoria=>{\r\n      this.nomesCategorias.push(categoria.nome);\r\n    })\r\n    console.log(this.nomesCategorias);\r\n    this.produtos=produtos;\r\n  }\r\n\r\n  async excluir(produto:Produto){\r\n    if(confirm(\"Tem certeza que deseja excluir esse produto?\")){\r\n      await this.produtoServico.excluirPorId(produto.id)\r\n      this.produtos = await this.produtoServico.lista()\r\n    }\r\n  }\r\n\r\n  public comprar(produto:Produto){\r\n    Carrinho.adicionaPedidoProduto(produto);\r\n  }\r\n\r\n  number(a : Number){\r\n    return Number(a)\r\n  }\r\n}\r\n","<section class=\"page-section\" id=\"contact\" style=\"margin-top: 15px; margin-bottom: 2px;\">\r\n    <div class=\"container\">\r\n        <div class=\"divider-custom\">\r\n            <a routerLink=\"/form-produto\" class=\"btn btn-primary \">Adicionar novo</a>\r\n            <!-- <button class=\"btn btn-primary\" (click)=\"novoCliente()\">Adicionar novo</button> -->\r\n        </div>\r\n        <div class=\"row \">\r\n            <div class=\"col-lg-8 col-xl-7\" style=\"width: 100%\">\r\n              <div *ngIf=\"produtos && produtos.length == 0\" class=\"alert alert-primary\" role=\"alert\">\r\n                  Não existem produtos cadastrados\r\n              </div>\r\n              <table *ngIf=\"produtos && produtos.length > 0\" class=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">ID</th>\r\n                      <th scope=\"col\">Categoria</th>\r\n                      <th scope=\"col\">Nome</th>\r\n                      <th scope=\"col\">Descrição</th>\r\n                      <th scope=\"col\">Valor</th>\r\n                      <th scope=\"col\">Quantidade</th>\r\n                      <th scope=\"col\">Custo</th>\r\n                      <th scope=\"col\" colspan=\"4\" style=\"text-align: -webkit-center;\">Ações</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr *ngFor=\"let produto of produtos\" style=\"vertical-align: middle\">\r\n                      <th scope=\"row\">{{produto.id}}</th>\r\n                      <td>{{this.nomesCategorias[number(produto.categoria_id)-1]}}</td>\r\n                      <td>{{produto.nome}}</td>\r\n                      <td>{{produto.descricao}}</td>\r\n                      <td>{{number(produto.valor) | currency}}</td>\r\n                      <td>{{produto.qtd_estoque}}</td>\r\n                      <td>{{number(produto.custo) | currency}}</td>\r\n                      \r\n                      <td class=\"btnacoes\">\r\n                        \r\n                        <a class=\"btn btn-warning\" routerLink=\"/form-produto/{{produto.id}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-database-gear\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M12.096 6.223A4.92 4.92 0 0 0 13 5.698V7c0 .289-.213.654-.753 1.007a4.493 4.493 0 0 1 1.753.25V4c0-1.007-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1s-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4v9c0 1.007.875 1.755 1.904 2.223C4.978 15.71 6.427 16 8 16c.536 0 1.058-.034 1.555-.097a4.525 4.525 0 0 1-.813-.927C8.5 14.992 8.252 15 8 15c-1.464 0-2.766-.27-3.682-.687C3.356 13.875 3 13.373 3 13v-1.302c.271.202.58.378.904.525C4.978 12.71 6.427 13 8 13h.027a4.552 4.552 0 0 1 0-1H8c-1.464 0-2.766-.27-3.682-.687C3.356 10.875 3 10.373 3 10V8.698c.271.202.58.378.904.525C4.978 9.71 6.427 10 8 10c.262 0 .52-.008.774-.024a4.525 4.525 0 0 1 1.102-1.132C9.298 8.944 8.666 9 8 9c-1.464 0-2.766-.27-3.682-.687C3.356 7.875 3 7.373 3 7V5.698c.271.202.58.378.904.525C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777ZM3 4c0-.374.356-.875 1.318-1.313C5.234 2.271 6.536 2 8 2s2.766.27 3.682.687C12.644 3.125 13 3.627 13 4c0 .374-.356.875-1.318 1.313C10.766 5.729 9.464 6 8 6s-2.766-.27-3.682-.687C3.356 4.875 3 4.373 3 4Z\"/>\r\n                        <path d=\"M11.886 9.46c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z\"/>\r\n                      </svg>\r\n                    </a>\r\n                  \r\n                  </td>\r\n\r\n                      <td class=\"btnacoes\">\r\n                        <button class=\"btn btn-danger\" (click)=\"excluir(produto)\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash3\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z\"/>\r\n                      </svg>\r\n                    </button></td>\r\n                  \r\n                    \r\n\r\n                      <td class=\"btnacoes\"><button class=\"btn btn-success\" (click)=\"comprar(produto)\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-cart-plus\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z\"/>\r\n                        <path d=\"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"/>\r\n                      </svg></button></td>\r\n\r\n                      <td class=\"btnacoes\"><button class=\"btn btn-primary\" routerLink=\"/produtos/{{produto.id}}\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-bag-plus\" viewBox=\"0 0 16 16\">\r\n                        <path fill-rule=\"evenodd\" d=\"M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z\"/>\r\n                        <path d=\"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z\"/>\r\n                      </svg></button></td>\r\n\r\n                   \r\n                      <!-- <td><button class=\"btn btn-danger\" [disabled]=\"!logadoService.adm\" (click)=\"excluir(cliente)\">Excluir</button></td> -->\r\n                    </tr>\r\n                  </tbody>\r\n              </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n"]},"metadata":{},"sourceType":"module"}